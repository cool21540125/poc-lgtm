auth_enabled: false
stream_over_http_enabled: true
multitenancy_enabled: false

server:
  grpc_listen_port: 9095 # for tempo scalable usage
  http_listen_port: 3200 # for Tempo API
  log_level: info

distributor:
  receivers:
    otlp:
      protocols:
        http:
          endpoint: "0.0.0.0:4318"
        grpc:
          endpoint: "0.0.0.0:4317"

compactor:
  disabled: false
  compaction:
    block_retention: 336h # 14 days

storage:
  trace:
    backend: local
    local:
      path: /var/tempo/blocks
    wal:
      path: /var/tempo/wal

query_frontend:
  search:
    max_duration: 0s

# # https://grafana.com/docs/tempo/latest/configuration/#metrics-generator
metrics_generator:
  ring:
    kvstore:
      store: memberlist

  storage:
    path: /var/tempo/generator/wal
    # remote_write:
    #   - url: http://prometheus:9090/api/v1/write
    # processor:
    #   service_graphs:
    #     enabled: false
    #   span_metrics:
    #     enabled: false
